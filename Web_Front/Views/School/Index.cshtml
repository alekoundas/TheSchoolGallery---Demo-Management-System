@model IEnumerable<Web_DomainClasses.Entities.School.School>

@{
    ViewBag.Title = "Index";
}

<div class="col-md-12 pt-20 pb-20">
    <h1 style="color:#f3efe9;">Schools Participating</h1>
</div>
<div class="feature-area pt-10 pb-10  relative">
    <div class="container">
        <div class="row">
            @if (User.IsInRole("Admin"))
            {
                <!-- ADMIN VIEW ----------------------------------------------------- -->
                <h2 class="col-md-6">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i>
                    @Html.ActionLink("Create New", "Create")
                </h2>
            }
            <div class="col-md-6">
                @using (Html.BeginForm())
                {
                    <p>
                        Find by Name: @Html.TextBox("SearchString")
                        <input class="btn btn-large" type="submit" value="Search" />
                    </p>
                }
            </div>
        </div>
    </div>
</div>

<!-- SECOND BANNER ----------------------------------------------------- -->
@Html.Partial("_SchoolMapLocations")

<section class="feature-area pt-100 pb-100  relative">
    <div class="overlay overlay-bg"></div>
    <div class="container">
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-lg-4 col-md-6 col-sm-12 align-items-stretch">
                    <div class="dottedsurr">
                        <div class="dottedFrameDark2 isThisLink">
                            <br />
                            <a href="@Url.Action("Details", "School", new { id = item.SchoolId })">
                                <div class="Schooldesc">
                                    <h3>@Html.DisplayFor(modelItem => item.Name)</h3>
                                    <hr />
                                    <ul class="text-right paintingInfo">
                                        <li>City: @Html.DisplayFor(modelItem => item.City)</li>
                                        <li>Address: @Html.DisplayFor(modelItem => item.Adress)</li>
                                        <li>Tel: @Html.DisplayFor(modelItem => item.Tel)</li>
                                    </ul>
                                </div>
                            </a>
                        </div>

                        @if (User.IsInRole("Admin"))
                        {
                            <!-- Section - Links ---------------------------------------->
                            <div style="height:180px;" class="container col-12">
                                <br />
                                <div class="row">
                                    <div class="btn_contain1 col">
                                        <div class="btn_child_norm1">
                                            <a href="@Url.Action("Edit", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/edit_off.png" /></a>
                                        </div>
                                        <div class="btn_child_live1">
                                            <a style="color:#f3efe9" href="@Url.Action("Edit", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/edit.png" /> edit </a>
                                        </div>
                                    </div>

                                    <div class="btn_contain2 col">
                                        <div class="btn_child_norm2">
                                            <a href="@Url.Action("Details", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/details_off.png" /></a>
                                        </div>
                                        <div class="btn_child_live2">
                                            <a style="color:#f3efe9" href="@Url.Action("Details", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/details.png" /> details </a>
                                        </div>
                                    </div>

                                    <div class="btn_contain3 col">
                                        <div class="btn_child_norm3">
                                            <a href="@Url.Action("Delete", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/delete_off.png" /></a>
                                        </div>
                                        <div class="btn_child_live3">
                                            <a style="color:#f3efe9" href="@Url.Action("Delete", "School", new { id = item.SchoolId })"><img src="~/images/UIcons/delete.png" /> delete </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }


                    </div>
                </div>
            }
        </div>
    </div>
</section>







@*                            BETA GMAPS API                                        *@

<script type="text/javascript">


    function initMap() {


        var locations = [
            ['Bondi Beach', -33.890542, 151.274856, 4],
            ['Coogee Beach', -33.923036, 151.259052, 5],
            ['Cronulla Beach', -34.028249, 151.157507, 3],
            ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
            ['Maroubra Beach', -33.950198, 151.259302, 1]
        ];





        var MapProperties = {
            center: { lat: -33.92, lng: 151.25 },
            zoom: 12,
            styles: [
                {
                    elementType: "geometry",
                    stylers: [{ "color": "#ebe3cd" }]
                },
                {
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#523735" }]
                },
                {
                    elementType: "labels.text.stroke",
                    stylers: [{ "color": "#f5f1e6" }]
                },
                {
                    featureType: "administrative",
                    elementType: "geometry.stroke",
                    stylers: [{ "color": "#c9b2a6" }]
                },
                {
                    featureType: "administrative.land_parcel",
                    elementType: "geometry.stroke",
                    stylers: [{ "color": "#dcd2be" }]
                },
                {
                    featureType: "administrative.land_parcel",
                    elementType: "labels",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "administrative.land_parcel",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#ae9e90" }]
                },
                {
                    featureType: "landscape.natural",
                    elementType: "geometry",
                    stylers: [{ "color": "#dfd2ae" }]
                },
                {
                    featureType: "poi",
                    elementType: "geometry",
                    stylers: [{ "color": "#dfd2ae" }]
                },
                {
                    featureType: "poi",
                    elementType: "labels.text",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "poi",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#93817c" }]
                },
                {
                    featureType: "poi.business",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "poi.park",
                    elementType: "geometry.fill",
                    stylers: [{ "color": "#a5b076" }]
                },
                {
                    featureType: "poi.park",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#447530" }]
                },
                {
                    featureType: "road",
                    elementType: "geometry",
                    stylers: [{ "color": "#f5f1e6" }]
                },
                {
                    featureType: "road",
                    elementType: "labels.icon",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "road.arterial",
                    elementType: "geometry",
                    stylers: [{ "color": "#fdfcf8" }]
                },
                {
                    featureType: "road.arterial",
                    elementType: "labels",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "road.highway",
                    elementType: "geometry",
                    stylers: [{ "color": "#f8c967" }]
                },
                {
                    featureType: "road.highway",
                    elementType: "geometry.stroke",
                    stylers: [{ "color": "#e9bc62" }]
                },
                {
                    featureType: "road.highway",
                    elementType: "labels",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "road.highway.controlled_access",
                    elementType: "geometry",
                    stylers: [{ "color": "#e98d58" }]
                },
                {
                    featureType: "road.highway.controlled_access",
                    elementType: "geometry.stroke",
                    stylers: [{ "color": "#db8555" }]
                },
                {
                    featureType: "road.local",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "road.local",
                    elementType: "labels",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "road.local",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#806b63" }]
                },
                {
                    featureType: "transit",
                    stylers: [{ "visibility": "off" }]
                },
                {
                    featureType: "transit.line",
                    elementType: "geometry",
                    stylers: [{ "color": "#dfd2ae" }]
                },
                {
                    featureType: "transit.line",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#8f7d77" }]
                },
                {
                    featureType: "transit.line",
                    elementType: "labels.text.stroke",
                    stylers: [{ "color": "#ebe3cd" }]
                },
                {
                    featureType: "transit.station",
                    elementType: "geometry",
                    stylers: [{ "color": "#dfd2ae" }]
                },
                {
                    featureType: "water",
                    elementType: "geometry.fill",
                    stylers: [{ "color": "#b9d3c2" }]
                },
                {
                    featureType: "water",
                    elementType: "labels.text.fill",
                    stylers: [{ "color": "#92998d" }]
                }
            ]
        }



        var map = new google.maps.Map(document.getElementById('gmap2'), MapProperties);

      


        var infowindow = new google.maps.InfoWindow();

        var marker, i;

        for (i = 0; i < myArray.Count; i++) {
            //marker = new google.maps.Marker({
            //    position: new google.maps.LatLng(locations[i][1], locations[i][2]),
            //    map: map
            //});

            //var service = new google.maps.places.PlacesService(map);
            //service.getDetails({
            //    placeId: myArray[i]
            //}, function (result, status) {
            //    var marker = new google.maps.Marker({
            //        map: map,
            //        place: {
            //            placeId: myArray[i],
            //            location: result.geometry.location
            //        }
            //    });
            //});


            //To Show Description On Pin Click

            //google.maps.event.addListener(marker, 'click', (function(marker, i) {
            //  return function() {
            //    infowindow.setContent(locations[i][0]);
            //    infowindow.open(map, marker);
            //  }
            //})(marker, i));
        }
    };
</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCucoJw77Lpe1D97ZE4Nin_yakyZ_npPgs&libraries=places&callback=initMap" async defer></script>
